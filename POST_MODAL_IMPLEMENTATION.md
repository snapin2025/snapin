# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ Intercepting Routes

## üìã –û–±–∑–æ—Ä —Ä–µ—à–µ–Ω–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Next.js 15 Intercepting Routes** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º URL –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
app/(wep-app)/(public)/post/
  ‚îú‚îÄ‚îÄ [postId]/
  ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                    # –û–±—ã—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø)
  ‚îî‚îÄ‚îÄ (.)[postId]/
      ‚îî‚îÄ‚îÄ page.tsx                    # Intercepting route (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)

src/
  ‚îú‚îÄ‚îÄ entities/post/
  ‚îÇ   ‚îî‚îÄ‚îÄ api/
  ‚îÇ       ‚îú‚îÄ‚îÄ post.ts                 # API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å—Ç–∞
  ‚îÇ       ‚îî‚îÄ‚îÄ usePost.ts              # React Query —Ö—É–∫
  ‚îî‚îÄ‚îÄ pages/post/
      ‚îú‚îÄ‚îÄ PostModal.tsx               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      ‚îî‚îÄ‚îÄ PostModal.module.css        # –°—Ç–∏–ª–∏
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. Intercepting Routes

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å `(.)[postId]`** –æ–∑–Ω–∞—á–∞–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ —Ä–æ—É—Ç–∏–Ω–≥–∞.

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –ø–æ—Å—Ç ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ `/post/123`
2. Next.js –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é —á–µ—Ä–µ–∑ `(.)[postId]`
3. –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, URL –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ `/post/123`
4. –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ (`router.back()`) –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
5. –ü—Ä–∏ –ø—Ä—è–º–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ (F5, –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–π `[postId]/page.tsx`

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

`PostModal` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **Radix UI Dialog** –¥–ª—è accessibility –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–∫—É—Å–æ–º
- **React Query** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Next.js Image** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** (—Å—Ç—Ä–µ–ª–∫–∏, ESC)

### 3. API —Å–ª–æ–π

```typescript
// Server-side API (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Server Components)
postApi.getPost(postId)

// Client-side —Ö—É–∫ (–¥–ª—è Client Components)
usePost(postId)
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

```json
{
  "next": "15.5.6",
  "react": "19.1.0",
  "@tanstack/react-query": "^5.90.5",
  "@radix-ui/react-dialog": "^1.1.15"
}
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

### 1. **SEO –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**
- URL –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (F5, share)
- –ò—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### 2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –ù–µ—Ç –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- React Query –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 3. **UX**
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥
- –ó–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ ESC –∏ –∫–ª–∏–∫ –ø–æ overlay

### 4. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Next.js 15
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ TypeScript
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ router.back()

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `onOpenChange` —Å `router.back()`:

```typescript
const handleOpenChange = useCallback(
  (open: boolean) => {
    if (!open) {
      router.back()
    }
  },
  [router]
)
```

### 2. **–ü—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –º–µ–∂–¥—É intercepting route –∏ –æ–±—ã—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `PostModal` –¥–ª—è –æ–±–æ–∏—Ö —Å–ª—É—á–∞–µ–≤.

### 3. **–ü—Ä–æ–±–ª–µ–º–∞:** Prefetch –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–æ –∫–ª–∏–∫–∞

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `prefetch={false}` –≤ Link:

```tsx
<Link href={`/post/${postId}`} prefetch={false}>
```

### 4. **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –≤ CSS:

```css
@media (max-width: 768px) {
  .postContainer {
    flex-direction: column;
  }
}
```

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### 1. **Parallel Routes —Å @modal —Å–ª–æ—Ç–æ–º**

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ù—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

### 2. **Client-side —Å–æ—Å—Ç–æ—è–Ω–∏–µ (useState)**

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ—Å—Ç—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –±–µ–∑ URL
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∏ (–Ω–µ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ URL
- –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–ª–æ—Ö–æ –¥–ª—è SEO

### 3. **Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (?modal=post&id=123)**

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
- –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ intercepting routes

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–Ω–µ–µ —á–∏—Å—Ç—ã–π URL
- –°–ª–æ–∂–Ω–µ–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
   - –î–æ–±–∞–≤–∏—Ç—å API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É
   - –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

2. **–õ–∞–π–∫–∏:**
   - –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ª–∞–π–∫–µ

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
   - Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∫–∞—Ä—É—Å–µ–ª–∏

4. **Accessibility:**
   - ARIA labels –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –§–æ–∫—É—Å-–ª–æ–≤–∫–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Next.js Intercepting Routes](https://nextjs.org/docs/app/building-your-application/routing/intercepting-routes)
- [Radix UI Dialog](https://www.radix-ui.com/primitives/docs/components/dialog)
- [TanStack Query](https://tanstack.com/query/latest)

